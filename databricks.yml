bundle:
  name: dash-with-cache

resources:
  apps:
    dash-with-cache:
      name: "dash-with-cache"
      source_code_path: ./src
      description: "A dash app for in memory caching of databricks sql queries"
      resources:
        - name: "sql_warehouse"
          sql_warehouse:
            id: "388276af36ab98ba"
            permission: CAN_USE

targets:
  dev:
    mode: development
    default: true
    workspace:
      host: https://adb-3132409076304568.8.azuredatabricks.net/
    resources:
      apps:
        dash-with-cache:
          name: "dash-with-cache-app-dev"
          source_code_path: ./src
      
  prod:
    mode: production
    workspace:
      host: https://adb-3132409076304568.8.azuredatabricks.net/
      root_path: /Workspace/Users/${workspace.current_user.userName}/.bundle/${bundle.name}/${bundle.target}
    permissions:
      - user_name: ${workspace.current_user.userName}
        level: CAN_MANAGE


